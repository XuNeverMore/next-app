(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8701:function(e,t,l){Promise.resolve().then(l.bind(l,6825))},6825:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var a=l(7437),s=l(6648),n=l(7138),r=l(2265),i={src:"/next/static/media/delete.2082ac7d.svg",height:200,width:200,blurWidth:0,blurHeight:0},c={src:"/next/static/media/net.cd5f7b38.svg",height:200,width:200,blurWidth:0,blurHeight:0};let d=[];function o(e){let{isEdit:t=!1,count:l=0,onRefresh:o=()=>{}}=e,[h,u]=(0,r.useState)(d);return(0,r.useEffect)(()=>{fetch("/api/net_list").then(e=>e.json()).then(e=>{let t=e.data;u(t=t.map(e=>(e.children=e.children.filter(e=>!1!==e.visible),e))),console.log("fetch net_list")})},[l]),h.map(e=>(0,a.jsxs)("div",{className:"min-w-24 flex flex-col gap-2 items-center border-2 border-gray-200 rounded-lg p-2 scrollable",children:[(0,a.jsx)("p",{className:"text-xl text-blue-500 sticky top-0",children:e.title}),e.children.map(l=>(0,a.jsxs)("div",{className:"flex w-full",children:[(0,a.jsxs)(n.default,{href:l.url,target:"_blank",className:"w-full flex p-2 hover:bg-green-100 rounded-md items-center gap-2 flex-1",children:[(0,a.jsx)(s.default,{src:l.icon||c,alt:l.title,width:30,height:30,className:"rounded-full"}),(0,a.jsx)("p",{className:"text-black",children:l.title})]}),t&&(0,a.jsx)(s.default,{src:i,width:24,className:"hover:bg-blue-200 rounded-full aspect-square p-2px",alt:"delete",onClick:()=>(function(e,t,l){fetch("/api/net_list",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:e,net:t})}).then(e=>{l&&l()})})(e.title,l,o)})]},l.url))]},e.title))}function h(){var e;let t={year:(e=new Date).getFullYear(),month:e.getMonth()+1,day:e.getDate(),startWeek:new Date(e.getFullYear(),e.getMonth(),1).getDay(),lastDay:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},l=Array.from({length:t.lastDay+t.startWeek},(e,l)=>l-t.startWeek+1);return(0,a.jsxs)("div",{className:"p-4 border-2 border-gray-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-center text-xl p-2 text-black",children:"".concat(t.year,"年").concat(t.month,"月")}),(0,a.jsx)("div",{className:"grid-cols-7 grid gap-2 text-center",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,a.jsx)("p",{className:"min-w-10 pb-2",children:e},e))}),(0,a.jsx)("div",{className:"grid-cols-7 grid gap-2",children:l.map(e=>(0,a.jsx)("p",{className:"p-2 rounded-lg min-w-10 text-center ".concat(e<1?"":e===t.day?"bg-blue-500 text-white ":"bg-gray-200 text-black"),children:e<=0?"":e},e))})]})}var u={src:"/next/static/media/setting.02acb69a.svg",height:200,width:200,blurWidth:0,blurHeight:0};let g=["Technology","Work","AI Tools","Design"];function f(e){let{isEdit:t=!1,onClick:l=()=>{},onRefresh:n=()=>{}}=e,[i,c]=(0,r.useState)(g[0]),[d,o]=(0,r.useState)("");return(0,a.jsxs)("div",{className:"p-4 w-screen flex flex-col items-end",children:[(0,a.jsx)(s.default,{src:u,alt:"setting",width:20,height:20,className:"block",onClick:l}),(0,a.jsx)("div",{className:"w-full",children:t&&(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("select",{onChange:e=>c(e.target.value),value:i,className:"bg-slate-300 p-2",title:"category",children:g.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("textarea",{className:"w-1/3 m-2 bg-gray-300 rounded-lg",placeholder:"please input net info",onChange:e=>{o(e.target.value)}}),(0,a.jsx)("button",{type:"button",onClick:()=>{if(d)try{let e=JSON.parse(d);fetch("/api/net_list",{method:"POST",body:JSON.stringify({category:i,net:e})}).then(e=>{n(),console.log(e)})}catch(e){console.error(e)}},className:"bg-blue-500 rounded-xl text-white px-6 py-2",children:"Add"})]})})]})}function x(){let[e,t]=(0,r.useState)("12:00:00");return(0,r.useEffect)(()=>{let e=new Date,l=e.getDay(),a=e.getTime(),s=0;s=((3===l||5===l?new Date(e.getFullYear(),e.getMonth(),e.getDate(),18,30,0).getTime():new Date(e.getFullYear(),e.getMonth(),e.getDate(),21,0,0).getTime())-a)/1e3;let n=setInterval(()=>{let e=Math.floor((s-=1)/3600),l=Math.floor(s%3600/60),a=Math.floor(s%60);t("".concat(e,":").concat(l,":").concat(a)),s<=0&&clearInterval(n)},1e3)},[]),(0,a.jsx)("div",{children:e})}function m(){let[e,t]=(0,r.useState)(0),[l,s]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"flex flex-col w-screen h-screen p-2 fixed top-0 left-0",children:[(0,a.jsx)("div",{className:"position-fixed top-0 left-0",children:(0,a.jsx)(x,{})}),(0,a.jsx)(f,{isEdit:l,onClick:()=>s(!l),onRefresh:()=>t(e+1)}),(0,a.jsxs)("div",{className:"flex gap-2 w-full items-start justify-center flex-1",children:[(0,a.jsx)(h,{}),(0,a.jsx)(o,{isEdit:l,onRefresh:()=>t(e+1),count:e})]})]})}}},function(e){e.O(0,[974,971,23,744],function(){return e(e.s=8701)}),_N_E=e.O()}]);