(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[148],{9343:function(t,e,n){Promise.resolve().then(n.bind(n,4802))},4802:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var a=n(7437),s=n(2265),c=n(442),l=n(7138),i=n(9783),o=n(6648),u=n(7449),r=n.n(u);function f(){let[t,e]=(0,s.useState)(""),[n,u]=(0,s.useState)(""),[f,h]=(0,s.useState)("");return(0,s.useEffect)(()=>{(async function(){var t;let e=await new Promise((t,e)=>{fetch("/api/ip").then(t=>t.json()).then(e=>{t(e.data.ip)}).catch(t=>{e(t)})}),n="http://".concat(e,":3000/text");console.log(e),u(n),t=(t,e)=>{console.log("qrcode",e),h(e)},i.toDataURL(n,t)})()},[]),(0,s.useEffect)(()=>{(0,c.Q)(t=>{e(t)})},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r(),{children:(0,a.jsx)("title",{children:"Update Text"})}),(0,a.jsxs)("div",{className:"p-2 w-full h-screen",children:[(0,a.jsxs)("div",{className:"flex justify-end w-full items-center",children:[f&&(0,a.jsx)(o.default,{src:f,alt:"qrcode",width:80,height:80}),(0,a.jsx)(l.default,{href:"/text",target:"_blank",className:"text-blue-500 underline text-xl h-auto pl-2",children:n})]}),(0,a.jsx)("textarea",{title:"update text",defaultValue:t,onChange:t=>(0,c.E)(t.target.value),className:"w-full h-full outline-none text-3xl"})]})]})}},442:function(t,e,n){"use strict";function a(t){fetch("/api/copytext",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})}).then(t=>{t.ok})}function s(t){fetch("/api/copytext",{method:"GET",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(e=>{t(e.data.text)})}n.d(e,{E:function(){return a},Q:function(){return s}})}},function(t){t.O(0,[974,954,971,23,744],function(){return t(t.s=9343)}),_N_E=t.O()}]);